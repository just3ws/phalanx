<!DOCTYPE html><html class="default" lang="en" data-base="./"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>Phalanx Duel Technical Reference</title><meta name="description" content="Documentation for Phalanx Duel Technical Reference"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script defer="" src="assets/main.js"></script><script async="" src="assets/icons.js" id="tsd-icons-script"></script><script async="" src="assets/search.js" id="tsd-search-script"></script><script async="" src="assets/navigation.js" id="tsd-nav-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => window.app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><a href="index.html" class="title">Phalanx Duel Technical Reference</a><div id="tsd-toolbar-links"></div><button id="tsd-search-trigger" class="tsd-widget" aria-label="Search"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-search"></use></svg></button><dialog id="tsd-search" aria-label="Search"><input role="combobox" id="tsd-search-input" aria-controls="tsd-search-results" aria-autocomplete="list" aria-expanded="true" autocapitalize="off" autocomplete="off" placeholder="Search the docs" maxlength="100"/><ul role="listbox" id="tsd-search-results"></ul><div id="tsd-search-status" aria-live="polite" aria-atomic="true"><div>Preparing search index...</div></div></dialog><a href="#" class="tsd-widget menu" id="tsd-toolbar-menu-trigger" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><a class="dashingAutolink" name="autolink-44"></a><a class="dashAnchor" name="//apple_ref/cpp/Module/Phalanx Duel%20Technical%20Reference"></a><h1>Phalanx Duel Technical Reference</h1></div><div class="tsd-panel tsd-typography"><a class="dashingAutolink" name="autolink-45"></a><a class="dashAnchor" name="//apple_ref/cpp/Module/Phalanx Duel%20Technical%20Reference"></a><h1 id="phalanx-technical-reference" class="tsd-anchor-link">Phalanx Duel Technical Reference<a href="#phalanx-technical-reference" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1>
<p>Welcome to the internal technical documentation for <strong>Phalanx Duel</strong>, a tactical 1v1 card combat game built for the modern web.</p>
<a class="dashingAutolink" name="autolink-46"></a><a class="dashAnchor" name="//apple_ref/cpp/Class/1.%20Project%20Philosophy%3A%20%22Hardened%20%26%20Upgrade-Forward%22"></a><h2 id="1-project-philosophy-hardened-upgrade-forward" class="tsd-anchor-link">1. Project Philosophy: &#34;Hardened &amp; Upgrade-Forward&#34;<a href="#1-project-philosophy-hardened-upgrade-forward" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2>
<p>Phalanx Duel is developed with a strict focus on technical integrity and zero technical debt. We adhere to these core mandates:</p>
<ul>
<li><strong>Deterministic Logic</strong>: The game rules in <a class="dashingAutolink" name="autolink-54"></a><a class="dashAnchor" name="//apple_ref/cpp/Interface/%40phalanx%2Fengine"></a><code>@phalanxduel/engine</code> are pure, side-effect-free functions.</li>
<li><strong>Total Observability</strong>: We use a dual-metrics strategy (Sentry + PostHog + OTel) to monitor every game state transition.</li>
<li><strong>Strict Typing</strong>: Zod-validated schemas are the authoritative source of truth for both data and network protocols.</li>
</ul>
<a class="dashingAutolink" name="autolink-47"></a><a class="dashAnchor" name="//apple_ref/cpp/Class/2.%20Architecture%20Overview"></a><h2 id="2-architecture-overview" class="tsd-anchor-link">2. Architecture Overview<a href="#2-architecture-overview" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2>
<p>The system is a TypeScript monorepo managed by <a class="dashingAutolink" name="autolink-55"></a><a class="dashAnchor" name="//apple_ref/cpp/Interface/pnpm"></a><code>pnpm</code>:</p>
<table>
<thead>
<tr>
<th style="text-align:left">Package</th>
<th style="text-align:left">Role</th>
<th style="text-align:left">Key Technologies</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><a class="dashingAutolink" name="autolink-56"></a><a class="dashAnchor" name="//apple_ref/cpp/Interface/shared"></a><code>shared</code></td>
<td style="text-align:left">The &#34;Contract&#34;</td>
<td style="text-align:left">Zod, JSON Schema</td>
</tr>
<tr>
<td style="text-align:left"><a class="dashingAutolink" name="autolink-57"></a><a class="dashAnchor" name="//apple_ref/cpp/Interface/engine"></a><code>engine</code></td>
<td style="text-align:left">The &#34;Rules&#34;</td>
<td style="text-align:left">Deterministic TS Logic, Vitest</td>
</tr>
<tr>
<td style="text-align:left"><a class="dashingAutolink" name="autolink-58"></a><a class="dashAnchor" name="//apple_ref/cpp/Interface/server"></a><code>server</code></td>
<td style="text-align:left">The &#34;Host&#34;</td>
<td style="text-align:left">Fastify, WebSocket, OTel, Sentry</td>
</tr>
<tr>
<td style="text-align:left"><a class="dashingAutolink" name="autolink-59"></a><a class="dashAnchor" name="//apple_ref/cpp/Interface/client"></a><code>client</code></td>
<td style="text-align:left">The &#34;UI&#34;</td>
<td style="text-align:left">Vite, Vanilla CSS, Sentry, PostHog</td>
</tr>
</tbody>
</table>
<a class="dashingAutolink" name="autolink-51"></a><a class="dashAnchor" name="//apple_ref/cpp/Function/State%20Synchronization"></a><h3 id="state-synchronization" class="tsd-anchor-link">State Synchronization<a href="#state-synchronization" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<p>We use <strong>Event Sourcing</strong> principles. Actions are validated by the engine, applied to produce a new state, and the resulting delta is synced over WebSockets. Every transition is hashed and verifiable.</p>
<a class="dashingAutolink" name="autolink-48"></a><a class="dashAnchor" name="//apple_ref/cpp/Class/3.%20Key%20Resources"></a><h2 id="3-key-resources" class="tsd-anchor-link">3. Key Resources<a href="#3-key-resources" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2>
<ul>
<li><strong>API Reference</strong>: <a href="https://phalanxduel.fly.dev/docs">Live OpenAPI Docs</a></li>
<li><strong>Monitoring</strong>: <a href="https://sentry.io/">Sentry Dashboard</a> (Search by <a class="dashingAutolink" name="autolink-60"></a><a class="dashAnchor" name="//apple_ref/cpp/Interface/visitorId"></a><code>visitorId</code>)</li>
<li><strong>Product Flow</strong>: <a href="https://us.posthog.com/">PostHog Dashboard</a></li>
<li><strong>Deployment</strong>: <a href="https://fly.io/apps/phalanx-game">Fly.io Monitoring</a></li>
</ul>
<a class="dashingAutolink" name="autolink-49"></a><a class="dashAnchor" name="//apple_ref/cpp/Class/4.%20Development%20Workflow"></a><h2 id="4-development-workflow" class="tsd-anchor-link">4. Development Workflow<a href="#4-development-workflow" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2>
<p>Before committing, you must ensure all &#34;Hardening Gates&#34; pass:</p>
<pre><a class="dashingAutolink" name="autolink-61"></a><a class="dashAnchor" name="//apple_ref/cpp/Interface/pnpmlint%23%20Strict%20type-checked%20lintingpnpmtypecheck%23%20Workspace-wide%20type%20safetypnpmtest%23%20Coverage%20threshold%3A%20%3E80%25pnpmschema%3Acheck%23%20Prevents%20API%20contract%20drift"></a><code class="bash"><span class="hl-0">pnpm</span><span class="hl-1"> </span><span class="hl-2">lint</span><span class="hl-1">       </span><span class="hl-3"># Strict type-checked linting</span><br/><span class="hl-0">pnpm</span><span class="hl-1"> </span><span class="hl-2">typecheck</span><span class="hl-1">  </span><span class="hl-3"># Workspace-wide type safety</span><br/><span class="hl-0">pnpm</span><span class="hl-1"> </span><span class="hl-2">test</span><span class="hl-1">       </span><span class="hl-3"># Coverage threshold: &gt;80%</span><br/><span class="hl-0">pnpm</span><span class="hl-1"> </span><span class="hl-2">schema:check</span><span class="hl-1"> </span><span class="hl-3"># Prevents API contract drift</span>
</code><button type="button">Copy</button></pre>

<a class="dashingAutolink" name="autolink-50"></a><a class="dashAnchor" name="//apple_ref/cpp/Class/5.%20Licensing%20%26%20Ethics"></a><h2 id="5-licensing-ethics" class="tsd-anchor-link">5. Licensing &amp; Ethics<a href="#5-licensing-ethics" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2>
<p>Phalanx Duel uses a <strong>Split-License Model</strong>:</p>
<ul>
<li><strong>Logic &amp; Code</strong>: <a href="https://github.com/phalanxduel/phalanxduel/blob/main/LICENSE">GPL-3.0-or-later</a> (Hardened Open Source)</li>
<li><strong>Media &amp; Assets</strong>: <a href="https://github.com/phalanxduel/phalanxduel/blob/main/LICENSE-ASSETS">CC BY-NC-SA 4.0</a> (Attribution-NonCommercial)</li>
</ul>
<p>See <a href="https://github.com/phalanxduel/phalanxduel/blob/main/docs/PRIVACY_AND_ETHICS.md">docs/PRIVACY_AND_ETHICS.md</a> for our ethical mandates regarding player data and architectural honesty.</p>
<hr/>
<p><em>Generated: February 21, 2026 | Phalanx Duel Technical Reference v0.2.2</em></p>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-chevronDown"></use></svg><a class="dashingAutolink" name="autolink-52"></a><a class="dashAnchor" name="//apple_ref/cpp/Function/Settings"></a><h3>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked=""/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open="" class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-chevronDown"></use></svg><a class="dashingAutolink" name="autolink-53"></a><a class="dashAnchor" name="//apple_ref/cpp/Function/On%20This%20Page"></a><h3>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#phalanx-technical-reference"><span>Phalanx Duel <wbr/>Technical <wbr/>Reference</span></a><ul><li><a href="#1-project-philosophy-hardened-upgrade-forward"><span>1. <wbr/>Project <wbr/>Philosophy: &#34;<wbr/>Hardened &amp; <wbr/>Upgrade-<wbr/>Forward&#34;</span></a></li><li><a href="#2-architecture-overview"><span>2. <wbr/>Architecture <wbr/>Overview</span></a></li><li><ul><li><a href="#state-synchronization"><span>State <wbr/>Synchronization</span></a></li></ul></li><li><a href="#3-key-resources"><span>3. <wbr/>Key <wbr/>Resources</span></a></li><li><a href="#4-development-workflow"><span>4. <wbr/>Development <wbr/>Workflow</span></a></li><li><a href="#5-licensing-ethics"><span>5. <wbr/>Licensing &amp; <wbr/>Ethics</span></a></li></ul></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="modules.html">Phalanx Duel Technical Reference</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer></footer><div class="overlay"></div>
</body></html>